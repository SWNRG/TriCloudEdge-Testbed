**How to Find Your S3 Upload URL and Parameters**

To use the Python test script, you need to provide it with the exact
same information your IoT device uses. This information is generated by your backend application logic, not found statically in the AWS console.
Here's where to look:

**1. Finding the Pre-signed URL (S3_PRESIGNED_URL)**

The pre-signed URL is a temporary, unique URL created on-demand. You
need to capture one that is generated for your IoT device.

-   **Check Your Backend Application Logs:** This is the easiest method.     Your application server or AWS Lambda function that the IoT device     calls to get the upload URL may be logging the full URL it     generates. Check the logs (e.g., Amazon CloudWatch Logs for Lambda)     for entries that look like a long web address containing     s3.amazonaws.com, AWSAccessKeyId, Signature, and Expires.

-   **Examine Your Backend Code:**

    -   Look for the code responsible for interacting with your IoT
        devices.
    -   Search for an AWS SDK call that generates the URL. The function         name is typically:
        -   **Python (Boto3):** generate_presigned_url or
            generate_presigned_post
        -   **Node.js (AWS SDK):** getSignedUrl
        -   **Java (AWS SDK):** generatePresignedUrl
    -   Temporarily add a logging statement in that code to print the
        generated URL so you can copy it for testing.

**2. Determining the Correct Content-Type**

This is the most common point of failure. The Content-Type header sent with the upload request **must exactly match** the ContentType specified when the URL was created.

-   **Look in Your Backend Code:** Go back to where
    generate_presigned_url (or its equivalent) is called. Look at the
    parameters being passed to it. You are looking for a parameter that     sets the content type.

-   **Example (Python/Boto3):** In your backend code, you might see
    something like this:
	```
	 This is an example of backend code that GENERATES the URL
	presigned_url = s3_client.generate_presigned_url(
		'put_object',
		Params={
			'Bucket': 'my-iot-bucket',
			'Key': 'uploads/device-123.bin',
			'ContentType': 'application/octet-stream'  # <-- THIS IS THE VALUE YOU NEED
		},
		ExpiresIn=3600
	)
	```

The value of \'ContentType\' in this Params dictionary must be used in the test script\'s headers. If this parameter is not in the backend code, then S3 doesn\'t enforce a content type, but it\'s best practice to include it. For .bin files, \'application/octet-stream\' is the standard.

